
# 遗传算法解决0/1背包问题

## 1、问题描述

**01背包问题**  是经典的NP问题。

背包问题描述为：给定一组物品，每种物品都有自己的重量和价格，在限定的总重量内，我们如何选择，才能使物品的总价格最高。

**01背包问题** 是在上述的基础上增加限制条件：每件物品只有一件，可以选择放或者不放

## 2、算法分析

这样的问题如果数量少，当然最好选择穷举法
比如一共3件商品，用0表示不取，1表示取，那么就一共有
000 001 010
011 100 101
110 111
这样8种方案，然后让计算机去累加和，与 重量上限比较，留下来的解里取最大即可。
但如果商品数有300,3000,甚至3w种呢，计算量太大穷举法可能就不适用了，这时如果遗传算法使用得当，就能在较短的时间内帮我们找到近似的最优解，我们继续往下看：
新的问题是12件商品的0-1背包问题
我们先让计算机随机产生1000个12位的二进制数。把总重量超过背包上限的解筛掉，剩下的两两一对随机交换“基因片段”产生下一代
交换前：
0000 1100 1101
0011 0101 0101
交换后：
0000 0101 1101
0011 1100 0101
再筛选，再交配，如此反复几代，留下的“基因型“差不多就是最好的了，如此这般与生物进化规律是一样的。
同时，在生物繁殖过程中，新产生的基因是有一定几率突变的，这是很多优良性状的重要来源，遗传算法中可也不能忽略它
比如：

变异前：

000101100101

变异后：

000101110101
产生突变的位置，就是一个概率问题。在设计算法的时候，会给每个基因位设置一个突变概率（当然是非常了）同样的在基因交换阶段交换哪些基因呢，也是一个算法设置问题。
3、总结一下，遗传算法应该有
一个基本函数：适度函数f(x)
三个基本操作：选择，交叉，变异

一.适度函数
适度函数其实就是指解的筛选标准，比如上文所说的把所有超过上限重量的解筛选掉，但是不是有更好的筛选标准呢？这将直接影响最后结果的 接近程度以及 求解所耗费的时间，所以设置一个好的适度函数很重要

二.选择
在遗传算法中 选择也是个概率问题，在解的范围中 适应度更高的基因型有 更高的概率被选择到。所以，在选择一些解来产生下一代时，一种常用的选择策略是 “比例选择”，也就是个体被选中的概率与其适应度函数值成正比。假设群体的个体总数是M，那么那么一个体Xi被选中的概率为f(Xi)/( f(X1) + f(X2) + …….. + f(Xn) )。常用的选择方法――轮盘赌（Roulette Wheel Selection）选择法。

三.交叉
在均等概率下基因位点的交叉，衍生出新的基因型。上述例子中是通过交换两个基因型的部分”基因”，来构造两个子代的基因型。

四.变异
在衍生子代的过程中，新产生的解中的“基因型”会以一定的概率出错，称为变异。变异发生的概率设置为Pm，记住该概率是很小的一个值。因为变异是小概率事件！

五.基本遗传算法优化
为了防止进化过程中产生的最优解被变异和交叉所破坏。《遗传算法原理及应用》介绍的最优保存策略是：即当前种群中适 应度最高的个体不参与交叉运算和变异运算，而是用它来替换掉本代群体中经过交叉、变异等遗传操作后所产生的适应度最低的个体。

遗传算法的优点：

1、 与问题领域无关且快速随机的全局搜索能力。传统优化算法是从单个初始值迭代求最优解的；容易误入局部最优解。遗传算法从串集开始搜索，复盖面大，利于全局择优。

2、 搜索从群体出发，具有潜在的并行性，可以进行多个个体的同时比较，鲁棒性高！

3、 搜索使用评价函数启发，过程简单。

4、使用概率机制进行迭代，具有随机性。遗传算法中的选择、交叉和变异都是随机操作，而不是确定的精确规则。这说明遗传算法是采用随机方法进行最优解搜索，选择体现了向最优解迫近，交叉体现了最优解的产生，变异体现了全局最优解的复盖。

5、具有可扩展性，容易与其他算法结合。遗传算法求解时使用特定问题的信息极少，仅仅使用适应值这一信息进行搜索，并不需要问题导数等与问题直接相关的信息。遗传算法只需适应值和串编码等通用信息，故几乎可处理任何问题，容易形成通用算法程序。

## 3、算法流程图

[![73a97d7d86c87abe312ef22679a07ea.png](https://i.postimg.cc/sgFjzzYD/73a97d7d86c87abe312ef22679a07ea.png)](https://postimg.cc/ykP4hwpw)

## 4、实验数据及运行结果

[![image.png](https://i.postimg.cc/vTqJ3Jyn/image.png)](https://postimg.cc/JHXYhdG7)





